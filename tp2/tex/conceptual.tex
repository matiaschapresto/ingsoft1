\subsection{Modelo Conceptual}
\subsubsection{Diagrama de clases}
\diagramav{Modelo-Conceptual}
\subsubsection{Aclaraciones}
\begin{itemize}
	\item La herencia es siempre disjunta y completa.
	\item La clase \texttt{Persona} fue agregada con el objetivo de unificar los atributos de diferentes subclases de \texttt{Persona}.
	\item \textbf{Notar que las herencias pueden ser varios conectivos de herencia. ie. Ver clase Persona, de la cual heredan Empleado y Pasajero.}
\end{itemize}
\subsubsection{Restricciones al modelo con OCL}
\begin{enumerate}
	\item \begin{ocl}{Puntaje del taxista entre 0 y 10.}
		  context Taxista
		  inv: self.puntajePromedio >=0 and
		       self.puntajePromedio <=10
		\end{ocl}
	
	\item \begin{ocl}{Puntaje del viaje entre 0 y 10.}
		  context Viaje
		  inv: self.puntaje >=0 and
		       self.puntaje <=10
		\end{ocl}

	\item \begin{ocl}{No puede haber 2 viajes con el mismo taxista en el mismo momento.}
		  context Viaje
		  inv: self.allInstances() -> not(exists(v1, v2 | v1.fechaComienzo == v2.fechaComienzo 
		                                            and v1.Taxista == v2.Taxista))
		\end{ocl}

	\item \begin{ocl}{Puntaje promedio de un taxista es el promedio de los puntajes de todos sus viajes puntuados.}
		  context Taxista
		  inv: self.PuntajePromedio == self.Viajes -> PuntajePromedio()
		\end{ocl}

	\item \begin{ocl}{Si la fecha de una Reserva es en el futuro, la cantidad de viajes asociados es cero.}
		  context Reserva
		  inv: self.fechaReserva > fechaActual implies self.ViajeAsociado -> size() == 0
		\end{ocl}

	\item \begin{ocl}{Si una Reserva tiene un viaje (reserva consumada), el pasajero creador de la reserva debe ser el pasajero del viaje asociado a la reserva.}
		  context Reserva
		  inv: self.ViajeAsociado.Pasajero == self.creador
		\end{ocl}

	\item \begin{ocl}{El domicilio de origen y destino de un viaje debe ser distinto.}
		  context Viaje
		  inv: not(self.DomicilioOrigen == self.DomicilioDestino)
		\end{ocl}

	\item \begin{ocl}{La fecha comienzo de un viaje debe ser menor que la fecha fin.}
		  context Viaje
		  inv: self.FechaComienzo < self.FechaFinal
		\end{ocl}

	\item \begin{ocl}{No hay usuarios repetidos por clave \texttt{nombre de usuario}.}
		  context Persona
		  inv: self.AllInstances() -> not(exist(p1, p2 | p1.NombreUsuario == p2.NombreUsuario))
		\end{ocl}
\end{enumerate}
